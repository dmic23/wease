<div class="modal-header row ml-0 mr-0">
    <div class="col-md-9">
        <h3 class="modal-title custom-font">Request <strong>Item</strong></h3>
    </div>
    <div class="col-md-3">
        <p class="pull-right"><a href ng-click="cancel()"> X </a></p>
        <button ng-click="isCollapsed = !isCollapsed" class="btn btn-slategray btn-ef btn-ef-4 btn-ef-4c">Create Offer Item</button>
    </div>
</div>
<div collapse="isCollapsed">
    <form role="form" class="well">
        <div class="row">


<!--             <div class="form-group col-md-6">
                <label for="item_name">Offer Item</label>
                <input type="text" class="form-control" id="item_name" ng-model="vm.req_item[$index].item_name" ng-init="vm.req_item[$index].item_name=req.item_subfam" ng-model-options="{updateOn: 'vm.addItem()'}">
            </div>          ng-init="vm.offer.offer_item[$index].item_name=req.item_subfam"
            <div class="form-group col-md-7">
                <label for="item_details">Description</label>
                <input type="text" class="form-control" id="item_details" placeholder="Description for offer item" ng-model="vm.req_item[$index].item_details" ng-model-options="{updateOn: 'vm.addItem()'}">
            </div>  -->

            <div class="form-group col-md-6">
                <label for="item_name">Offer Item</label>
                <input type="text" class="form-control" id="item_name" ng-model="vm.offer.offer_item[$index].item_name" ng-init="vm.offer.offer_item[$index].item_name=req.item_subfam" ng-model-options="{updateOn: 'vm.addItem()'}">
            </div>
            <div class="form-group col-md-7">
                <label for="item_details">Description</label>
                <input type="text" class="form-control" id="item_details" placeholder="Description for offer item" ng-model="vm.offer.offer_item[$index].item_details" ng-model-options="{updateOn: 'vm.addItem()'}">
            </div>            
        </div>
        <div class="row">
            <div class="form-group col-md-4">
                <label for="quantity">Quantity</label>
                <input type="number" class="form-control" id="quantity" integer ng-model="vm.offer.offer_item[$index].quantity" ng-model-options="{updateOn: 'default vm.addItem()'}">
            </div>
            <div class="form-group col-md-4">
                <label for="price">Rate</label>
                <div class="input-group">
                    <span class="input-group-addon">€</span>
                    <input type="number" step='0.01' class="form-control" id="price" ng-model="vm.offer.offer_item[$index].price" ng-model-options="{updateOn: 'default vm.addItem()'}">
                </div>
            </div>
            <div class="form-group col-md-4">
                <label for="subtotal">SubTotal</label>
                <p class="form-control-static">{{ vm.offer.offer_item[$index].quantity * vm.offer.offer_item[$index].price | currency:"€ "}}</p>
            </div>                                        
        </div>
        <div class="row" ng-controller="DatepickerDemoCtrl">
            <div class="form-group col-md-4">
                <label for="delivery-date">Delivery Date</label>
                <!-- <div class="col-sm-10"> -->
                    <div class="input-group w-md">
                        <input type="text" class="form-control"
                        ng-model="vm.offer.offer_item[$index].delivery_date"
                        ng-model-options="{updateOn: 'vm.addItem()'}"
                        datepicker-popup="{{format}}"
                        min-date="minDate" 
                        is-open="openeddd" 
                        datepicker-options="dateOptions" 
                        ng-required="false" 
                        close-text="Close" />
                        <span class="input-group-btn">
                            <button type="button" class="btn btn-default" ng-click="open($event, 'openeddd')"><i class="glyphicon glyphicon-calendar"></i></button>
                        </span>
                    </div>
                <!-- </div> -->
            </div>
            <div class="form-group col-md-4">
                <label for="date_start">Start Date</label>
                <!-- <div class="col-sm-10"> -->
                    <div class="input-group w-md">
                        <input type="text" class="form-control" 
                        ng-model="vm.offer.offer_item[$index].date_start"
                        ng-model-options="{updateOn: 'vm.addItem()'}"
                        datepicker-popup="{{format}}" 
                        min-date="minDate" 
                        is-open="openedsd"
                        datepicker-options="dateOptions" 
                        ng-required="false" 
                        close-text="Close" />
                        <span class="input-group-btn">
                            <button type="button" class="btn btn-default" ng-click="open($event, 'openedsd')"><i class="glyphicon glyphicon-calendar"></i></button>
                        </span>
                    </div>
                <!-- </div> -->
            </div>
            <div class="form-group col-md-4">
                <label for="date_end">End Date</label>
                <!-- <div class="col-sm-10"> -->
                    <div class="input-group w-md">
                        <input type="text" class="form-control"
                        ng-model="vm.offer.offer_item[$index].date_end"
                        ng-model-options="{updateOn: 'vm.addItem()'}"
                        datepicker-popup="{{format}}" 
                        is-open="openeded" 
                        datepicker-options="dateOptions" 
                        ng-required="false" 
                        close-text="Close" />
                        <span class="input-group-btn">
                            <button type="button" class="btn btn-default" ng-click="open($event, 'openeded')"><i class="glyphicon glyphicon-calendar"></i></button>
                        </span>
                    </div>
                <!-- </div> -->
            </div>                                        
        </div>
        <div class="row">
            <button type="submit" ng-click="vm.addItem(vm.offer.offer_item[$index]); cancel()" class="btn btn-rounded btn-success btn-sm mr-20 pull-right">Add to Offer</button>
        </div>
    </form>         
</div>
<!-- <div class="modal-body">
    <div class="row">
        <div class="col-md-6">
            <h3>{{ req.item_fam }}</h3>
            <h4>{{ req.item_subfam }}</h4>
        </div>
    </div>
    <div class="row b-t">
        <div ng-repeat="item in req.req_product" class="col-md-4">
            <h5><strong>{{ item.prod_title }}</strong></h5>
            <p>{{ item.prod_details }}</p>
        </div>
    </div>
    <div class="row b-t" ng-show="req.req_item_file[0]">
        <div class="col-md-12">
            <h5 custom-font>Attached <strong>Files</strong></h5>
            <div ng-repeat="file in req.req_item_file" class="col-md-12">
                <p><a href="static/{{ file.req_file }}" target="_blank">{{ file.req_file }}</a></p>
            </div>
        </div>
    </div>    
</div> -->
<div class="modal-body">
    <div class="row">
        <div class="col-md-6 pl-20 pr-20">
            <h4 class="text-uppercase">{{ req.item_fam }}</h4>
            <h5 class="text-uppercase">{{ req.item_subfam }}</h5>
        </div>
    </div>
    <div class="row b-t p-15">
        <h5 class="block" custom-font>Request Item <strong>Details</strong></h5>
        <div class="col-md-6" ng-repeat="item in req.req_product">
            <div class="row m-5 well pb-0">
                <div class="form-group col-md-12">
                    <label for="item_name" class="control-label"><strong>{{ item.prod_title }}</strong></label>
                    <p class="form-control-static">{{ item.prod_details }}</p>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="form-group col-md-12">
            <label for="offer_terms" custom-font>Request Item <strong>Notes</strong></label>
            <div class="col-md-12">
                <p class="form-control-static pl-15">{{req.item_details}}</p>
            </div>
        </div>
    </div>
    <div class="row" ng-show="req.req_item_file[0]">
        <div class="form-group col-md-12">
            <label for="offer_terms" custom-font>Attached <strong>Files</strong></label>
            <div ng-repeat="file in req.req_item_file" class="col-md-12">
                <p class="form-control-static"><a href="{{path.static_files}}{{ file.req_file }}" target="_blank">{{ file.req_file }}</a></p>
            </div>
        </div>
    </div>
</div>
<div class="modal-footer">
    <button class="btn btn-slategray btn-ef btn-ef-4 btn-ef-4c" ng-click="cancel()"><i class="fa fa-arrow-left"></i> Close</button>
</div>