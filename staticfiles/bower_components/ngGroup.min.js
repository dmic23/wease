!function(){"use strict";function o(o,t){var r,e=o[t];return r="function"==typeof e?e.call(o):e}angular.module("ng.group",[]).filter("groupBy",function(){function t(o,t){this.items=[o],this._poolGen=t}function r(o){this.groupField=o,this.poolGen=0}var e={};return e.poolFor=function(o,t){var e;if(void 0===o)return new r(t);if(this.hasOwnProperty(o)){if(e=this[o],e.groupField!==t)throw new Error('expected grouping "'+o+'" to group by '+e.groupField+" but asked to group by "+t+" instead!");return e}return this[o]=e=new r(t),e},r.prototype.addItem=function(t){var r,e=o(t,this.groupField);if(this.hasOwnProperty(e)&&(r=this[e]),void 0===r)return r=this.makeGroup(t),r[this.groupField]=e,this[e]=r,r;var n=this.addToGroup(r,t);return n?r:void 0},r.prototype.makeGroup=function(o){return new t(o,this.poolGen)},r.prototype.addToGroup=function(o,r){return o._poolGen<this.poolGen?(t.call(o,r,this.poolGen),!0):(o.items.push(r),!1)},r.prototype.newGen=function(){this.deleteOldGroups(),++this.poolGen},r.prototype.deleteOldGroups=function(){for(var o in this)if(this.hasOwnProperty(o)){var t=this[o];t._poolGen<this.poolGen&&delete this[o]}},function(o,t,r){var n=e.poolFor(r,t),i=[];return angular.forEach(o,function(o){var t=n.addItem(o);t&&i.push(t)}),n.newGen(),i}})}();